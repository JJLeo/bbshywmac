# Week1

## CF1348E

!!! note "题意"
    $n$棵树,每棵树上有$a_i$个红果实和$b_i$个蓝果实。有可以装$k$个果实的篮子,一个篮子只能放同种颜色或同一棵树上的果实。求最多可以放满多少个篮子

??? note "题解"
    若有$n(n>=2)$个篮子装了颜色不同的果实,则一定可以将其转化为只装红色或蓝色果实的篮子和至多$1$个装不同颜色的篮子。
    
    设$dp_{i,j}$为第$i$棵树装完后余下$j$个红果实所能装的最多的篮子数,令$sum=\sum_{j=1}^i{(a_j+b_j)}$此时蓝果实的个数应为$B=sum-dp[i][j]*k-j$

    接下来考虑转移。若在第$i$棵树选择装不同颜色的篮子,枚举这个篮子中红色果实的个数$s$,若有$s+b[i]>=k$,则

    $dp[i+1][(j+a_i-s)\%k]=max\{dp[i+1][(j+a_i-s)\%k],dp[i][j]+1+(j+a_i-s)/k+(B+b_i-(k-s))/k\}$

    若在第$i$棵树不选择装不同颜色的篮子,则$dp[i+1][(j+a_i)\%k]=max\{dp[i+1][(j+a_i)\%k],dp[i][j]+(j+a_i)/k+(B+b_i)/k\}$

    最后取最大值即可